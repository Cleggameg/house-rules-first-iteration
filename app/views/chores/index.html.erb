<div class="row">
  <div class="large-3 columns"><br />
  </div>
  <div id="chore_list" >
    <% if @chores != nil %>
    <div id="chore_title"><h4>Chores</h4></div>
    <div class="chore">
      <% @chores.each do |chore| %>

      <% log = @user.chore_logs.where(chore_id: chore.id ) %>
      <%= button_to "Delete", chore_path(chore), method: :delete, :class => ["button round tiny", "button alert", "delete_chore"], data: {confirm: "Are you sure?"}  %>
      <%= button_to "Issue", chore_chore_logs_path(chore),method: :post, :class =>["button round tiny", "chore_issue"] %>
      <div class="chore_task"><h5><%= chore.task %></h5> <br></div>
           <div class="completed_chore_count">     
        <table class="user_chore_count">
          <thead>
            <% @users.each do |user| %>
            <th>
              <%= user.first_name %>
            </th>
            <% end %>
          </thead>
          <tbody>
            <tr>
              <% @users.each do |user| %>
              <% logs = user.chore_logs.where(chore_id: chore.id) %>
              <td>
                <%= logs.count %>
              </td>
              <% end %>
            </tr>         
          </tbody>
        </table>
      </div> 
      <ul class="button-group round even-4">
        <li> <%= link_to "Edit", edit_chore_path(chore),method: :get, :class => ["button tiny", "edit_chore" ]  %></li>
        <li><%= link_to "Complete", chore_chore_logs_path(chore),method: :post, :class => ["button tiny","complete_log"] %></li>
        <li><%= link_to "Promise", chore_chore_logs_path(chore),method: :post, :class => ["button tiny", "chore_promise" ] %></li>
        <li><%= link_to 'Logs', chore_path(chore),method: :get, :class => ["button tiny", "view_log"] %></li>
      </ul>  
   
      <% end %>    
      <% end %>
    </div>
  </div>
  <div id="chore_form">
    <%= render 'chores/form' %>
  </div>
  <div class="large-3 columns"><br /></div>
</div>